<Window x:Class="Trial.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Emulator" Height="700" Width="900"
        Background="#1e1e1e">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- 설정 영역 -->
            <RowDefinition Height="Auto"/>
            <!-- 버튼 -->
            <RowDefinition Height="Auto"/>
            <!-- 프로토콜 개요 -->
            <RowDefinition Height="110*"/>
            <!-- 시나리오 리스트 -->
            <RowDefinition Height="209*"/>
            <!-- 로그 콘솔 -->
        </Grid.RowDefinitions>

        <!-- 상단 설비/통신/시나리오 선택 -->
        <DockPanel Grid.Row="0" LastChildFill="False" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                <TextBlock Text="설비:" Foreground="White" Margin="0,0,5,0" VerticalAlignment="Center"/>
                <ComboBox x:Name="cbDevice" Width="150" Margin="0,0,15,0">
                    <ComboBoxItem Content="Inkjet Printer"/>
                    <ComboBoxItem Content="Stacker Crane"/>
                    <ComboBoxItem Content="AGV"/>
                </ComboBox>

                <TextBlock Text="타입:" Foreground="White" Margin="0,0,5,0" VerticalAlignment="Center"/>
                <ComboBox x:Name="cbCommType" Width="120" Margin="0,0,15,0">
                    <ComboBoxItem Content="TCP/IP"/>
                    <ComboBoxItem Content="Serial"/>
                </ComboBox>

                <TextBlock Text="시나리오:" Foreground="White" Margin="0,0,5,0" VerticalAlignment="Center"/>
                <ComboBox x:Name="cbScenario" Width="200" Margin="0,0,15,0"/>
                <Button Content="시나리오 실행" Click="BtnRunScenario_Click" Padding="10,3"/>
            </StackPanel>

            <!-- 통신 상태 표시 영역 -->
            <StackPanel Orientation="Vertical" DockPanel.Dock="Right" Margin="10,0,0,0" Width="140">
                <TextBlock x:Name="txtCommStatus" Text="통신 상태: 연결 안 됨" Foreground="LightGray" FontWeight="Bold" Margin="0,0,0,2"/>
                <TextBlock x:Name="txtCommInfo" Text="IP: - / PORT: -" Foreground="Gray" FontSize="12"/>
            </StackPanel>
        </DockPanel>

        <!-- 버튼 -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,0,0,10">
            <Button Content="프로토콜 보기" Click="BtnShowProtocol_Click" Width="120" Margin="0,0,10,0"/>
            <Button Content="시나리오 불러오기" Click="BtnLoadScenario_Click" Width="140" Margin="0,0,10,0"/>
            <Button Content="CSV 내보내기" Click="BtnExportCsv_Click" Width="110" Margin="0,0,10,0"/>
            <Button Content="TXT 내보내기" Click="BtnExportTxt_Click" Width="110"/>
        </StackPanel>

        <!-- 프로토콜 개요 리스트 (기본은 숨김) -->
        <ListBox x:Name="lbProtocolList" Grid.Row="2" Background="#2e2e2e" Foreground="LightGray"
                 FontFamily="Consolas" FontSize="13" BorderBrush="#555" BorderThickness="1"
                 Visibility="Collapsed" Margin="0,0,0,10" />

        <!-- 시나리오 STEP 목록 표시 영역 -->
        <ListBox x:Name="lbScenarioSteps" Grid.Row="3" Background="#252526" Foreground="LightGray" 
                 FontFamily="Consolas" FontSize="13" BorderBrush="#444" BorderThickness="1"
                 Margin="0,0,0,10" />

        <!-- 로그 콘솔 -->
        <TextBox x:Name="txtLog" Grid.Row="4"
                 Background="#1e1e1e" Foreground="White"
                 FontFamily="Consolas" FontSize="13"
                 VerticalScrollBarVisibility="Auto"
                 TextWrapping="Wrap" AcceptsReturn="True" IsReadOnly="True"/>
    </Grid>
</Window>
